Ajax.Responders.register({onCreate:function(c){c=c.transport;c.setRequestHeader=c.setRequestHeader.wrap(function(b,c,a){return/^(accept|accept-language|content-language)$/i.test(c)||/^content-type$/i.test(c)&&/^(application\/x-www-form-urlencoded|multipart\/form-data|text\/plain)(;.+)?$/i.test(a)?b(c,a):null})}});
var GW2Maps={init:function(c){if("object"!==typeof c)return!1;google.maps.visualRefresh=!0;var b=GW2Maps.options(c),d={continent:b.continent_id,linkbox:(new Element("div",{"class":"linkbox"})).setStyle({width:b.linkbox,height:b.height}),map:new google.maps.Map(c,{zoom:3,minZoom:1,maxZoom:7,center:new google.maps.LatLng(0,0),streetViewControl:!1,panControl:b.map_controls,zoomControl:b.map_controls,mapTypeId:b.continent_id.toString(),mapTypeControlOptions:{mapTypeIds:["1","2"]}}),layers:{},markers:{},
popups:[],options:b},a=function(a,c){return 0>a.y||0>a.x||a.y>=1<<c||a.x>=1<<c?b.i18n.errortile:"https://tiles.guildwars2.com/"+d.map.getMapTypeId()+"/1/"+c+"/"+a.x+"/"+a.y+".jpg"},e=new google.maps.Size(256,256),g=new google.maps.ImageMapType({maxZoom:7,alt:"Tyria",name:"Tyria",tileSize:e,getTileUrl:a}),a=new google.maps.ImageMapType({maxZoom:6,alt:"The Mists",name:"The Mists",tileSize:e,getTileUrl:a}),h=new google.maps.LatLngBounds(GW2Maps.fromPointToLatLng([0,256*(1<<b.max_zoom)],b.max_zoom),GW2Maps.fromPointToLatLng([256*
(1<<b.max_zoom),0],b.max_zoom));d.map.mapTypes.set("1",g);d.map.mapTypes.set("2",a);c.setStyle({width:"100%",height:"100%"});google.maps.event.addListener(d.map,"center_changed",function(){if(!h.contains(d.map.getCenter())){var b=d.map.getCenter(),a=b.lng(),b=b.lat(),c=h.getNorthEast().lng(),e=h.getNorthEast().lat(),f=h.getSouthWest().lng(),g=h.getSouthWest().lat();a<f&&(a=f);a>c&&(a=c);b<g&&(b=g);b>e&&(b=e);d.map.panTo(new google.maps.LatLng(b,a))}});return d},fromLatLngToPoint:function(c,b){var d=
new google.maps.Point(0,0),a=new google.maps.Point(128,128),e=1<<b,g;g=Math.sin(c.lat()*(Math.PI/180));g=Math.max(g,-0.9999);g=Math.min(g,0.9999);d.x=a.x+c.lng()*(256/360);d.y=a.y+0.5*Math.log((1+g)/(1-g))*-(256/(2*Math.PI));return new google.maps.Point(Math.floor(d.x*e),Math.floor(d.y*e))},fromPointToLatLng:function(c,b){var d=new google.maps.Point(c[0],c[1]),a=256*(1<<b),e=(2*Math.atan(Math.exp((d.y-a/2)/-(a/(2*Math.PI))))-Math.PI/2)*(180/Math.PI);return new google.maps.LatLng(e,(d.x-a/2)*(360/
a))},options:function(c){var b={};$A(c.attributes).each(function(a){a.name.match(/^data-/)&&(b[a.name.substr(5)]="data-polyline"===a.name?a.value:phpjs.intval(a.value))});c=["en","de","en","es","fr"];var d=[!1,"landmark","sector","skill","task","vista","waypoint"],a="number"===typeof b.continent_id&&1<=b.continent_id&&2>=b.continent_id?b.continent_id:1;return{max_zoom:1==a?7:6,continent_id:a,floor_id:"number"===typeof b.floor_id?b.floor_id:2,region_id:"number"===typeof b.region_id&&0<b.region_id?
b.region_id:!1,map_id:"number"===typeof b.map_id&&0<b.map_id?b.map_id:!1,poi_id:"number"===typeof b.poi_id&&0<b.poi_id?b.poi_id:!1,poi_type:"number"===typeof b.poi_type&&0<b.poi_type&&6>=b.poi_type?d[b.poi_type]:!1,width:"number"===typeof b.width&&0<b.width?b.width+(!0==b.w_percent?"%":"px"):"800px",height:"number"===typeof b.height&&0<b.height?b.height+(!0==b.h_percent?"%":"px"):"450px",map_controls:!0!=b.disable_controls,linkbox:!1,polyline:b.polyline&&7<b.polyline.length?b.polyline:!1,i18n:"number"===
typeof b.language&&1<=b.language&&4>=b.language?GW2Maps.i18n[c[b.language]]:GW2Maps.i18n[c[0]]}},i18n:{de:{lang:"de",wiki:"http://wiki-de.guildwars2.com/wiki/",icon_event:{link:"http://wiki-de.guildwars2.com/images/7/7a/Event_Angriff_Icon.png",size:[24,24]},icon_landmark:{link:"http://wiki-de.guildwars2.com/images/0/0f/Sehensw\u00fcrdigkeit_Icon.png",size:[16,16]},icon_skill:{link:"http://wiki-de.guildwars2.com/images/c/c3/Fertigkeitspunkt_Icon.png",size:[20,20]},icon_task:{link:"http://wiki-de.guildwars2.com/images/b/b7/Aufgabe_Icon.png",
size:[20,20]},icon_vista:{link:"http://wiki-de.guildwars2.com/images/9/9f/Aussichtspunkt_Icon.png",size:[20,20]},icon_waypoint:{link:"http://wiki-de.guildwars2.com/images/d/df/Wegmarke_Icon.png",size:[24,24]},errortile:"http://wiki-de.guildwars2.com/images/6/6f/Kartenhintergrund.png",event:"Events",landmark:"Sehensw\u00fcrdigkeiten",players:"Spieler",polyline:"Polylinien",sector:"Zonen",skill:"Fertigkeitspunkte",task:"Aufgaben",vista:"Aussichtspunkte",waypoint:"Wegpunkte",attribution:"Kartendaten und -bilder",
professions:{0:{name:"Unbekannt",icon:"http://wiki-de.guildwars2.com/images/c/ce/Allgemein_Icon.png"},1:{name:"W\u00e4chter",icon:"http://wiki-de.guildwars2.com/images/f/f4/W\u00e4chter_Icon.png"},2:{name:"Krieger",icon:"http://wiki-de.guildwars2.com/images/9/90/Krieger_Icon.png"},3:{name:"Ingenieur",icon:"http://wiki-de.guildwars2.com/images/c/c9/Ingenieur_Icon.png"},4:{name:"Waldl\u00e4ufer",icon:"http://wiki-de.guildwars2.com/images/5/5e/Waldl\u00e4ufer_Icon.png"},5:{name:"Dieb",icon:"http://wiki-de.guildwars2.com/images/0/07/Dieb_Icon.png"},
6:{name:"Elementarmagier",icon:"http://wiki-de.guildwars2.com/images/b/b4/Elementarmagier_Icon.png"},7:{name:"Mesmer",icon:"http://wiki-de.guildwars2.com/images/0/05/Mesmer_Icon.png"},8:{name:"Nekromant",icon:"http://wiki-de.guildwars2.com/images/2/23/Nekromant_Icon.png"}}},en:{lang:"en",wiki:"http://wiki.guildwars2.com/wiki/",icon_event:{link:"http://wiki-de.guildwars2.com/images/7/7a/Event_Angriff_Icon.png",size:[24,24]},icon_landmark:{link:"http://wiki.guildwars2.com/images/f/fb/Point_of_interest.png",
size:[20,20]},icon_skill:{link:"http://wiki.guildwars2.com/images/8/84/Skill_point.png",size:[20,20]},icon_task:{link:"http://wiki.guildwars2.com/images/f/f8/Complete_heart_(map_icon).png",size:[20,20]},icon_vista:{link:"http://wiki.guildwars2.com/images/d/d9/Vista.png",size:[20,20]},icon_waypoint:{link:"http://wiki.guildwars2.com/images/d/d2/Waypoint_(map_icon).png",size:[20,20]},errortile:"http://wiki-de.guildwars2.com/images/6/6f/Kartenhintergrund.png",event:"Events",landmark:"Points of Interest",
players:"Players",polyline:"Polylines",sector:"Sector Names",skill:"Skill Challenges",task:"Tasks",vista:"Vistas",waypoint:"Waypoints",attribution:"Map data and imagery",professions:{0:{name:"Unknown",icon:"http://wiki-de.guildwars2.com/images/c/ce/Allgemein_Icon.png"},1:{name:"Guardian",icon:"http://wiki-de.guildwars2.com/images/f/f4/W\u00e4chter_Icon.png"},2:{name:"Warrior",icon:"http://wiki-de.guildwars2.com/images/9/90/Krieger_Icon.png"},3:{name:"Engineer",icon:"http://wiki-de.guildwars2.com/images/c/c9/Ingenieur_Icon.png"},
4:{name:"Ranger",icon:"http://wiki-de.guildwars2.com/images/5/5e/Waldl\u00e4ufer_Icon.png"},5:{name:"Thief",icon:"http://wiki-de.guildwars2.com/images/0/07/Dieb_Icon.png"},6:{name:"Elementalist",icon:"http://wiki-de.guildwars2.com/images/b/b4/Elementarmagier_Icon.png"},7:{name:"Mesmer",icon:"http://wiki-de.guildwars2.com/images/0/05/Mesmer_Icon.png"},8:{name:"Necromancer",icon:"http://wiki-de.guildwars2.com/images/2/23/Nekromant_Icon.png"}}},es:{lang:"es",wiki:"http://wiki-es.guildwars2.com/wiki/",
icon_event:{link:"http://wiki-de.guildwars2.com/images/7/7a/Event_Angriff_Icon.png",size:[24,24]},icon_landmark:{link:"http://wiki.guildwars2.com/images/f/fb/Point_of_interest.png",size:[20,20]},icon_skill:{link:"http://wiki.guildwars2.com/images/8/84/Skill_point.png",size:[20,20]},icon_task:{link:"http://wiki.guildwars2.com/images/f/f8/Complete_heart_(map_icon).png",size:[20,20]},icon_vista:{link:"http://wiki.guildwars2.com/images/d/d9/Vista.png",size:[20,20]},icon_waypoint:{link:"http://wiki.guildwars2.com/images/d/d2/Waypoint_(map_icon).png",
size:[20,20]},errortile:"http://wiki-de.guildwars2.com/images/6/6f/Kartenhintergrund.png",event:"event-es",landmark:"poi-es",players:"players-es",polyline:"polyline-es",sector:"sector-es",skill:"skill-es",task:"task-es",vista:"vista-es",waypoint:"waypoint-es",attribution:"attribution-es",professions:{0:{name:"Unknown",icon:"http://wiki-de.guildwars2.com/images/c/ce/Allgemein_Icon.png"},1:{name:"Guardian",icon:"http://wiki-de.guildwars2.com/images/f/f4/W\u00e4chter_Icon.png"},2:{name:"Warrior",icon:"http://wiki-de.guildwars2.com/images/9/90/Krieger_Icon.png"},
3:{name:"Engineer",icon:"http://wiki-de.guildwars2.com/images/c/c9/Ingenieur_Icon.png"},4:{name:"Ranger",icon:"http://wiki-de.guildwars2.com/images/5/5e/Waldl\u00e4ufer_Icon.png"},5:{name:"Thief",icon:"http://wiki-de.guildwars2.com/images/0/07/Dieb_Icon.png"},6:{name:"Elementalist",icon:"http://wiki-de.guildwars2.com/images/b/b4/Elementarmagier_Icon.png"},7:{name:"Mesmer",icon:"http://wiki-de.guildwars2.com/images/0/05/Mesmer_Icon.png"},8:{name:"Necromancer",icon:"http://wiki-de.guildwars2.com/images/2/23/Nekromant_Icon.png"}}},
fr:{lang:"fr",wiki:"http://wiki-fr.guildwars2.com/wiki/",icon_event:{link:"http://wiki-de.guildwars2.com/images/7/7a/Event_Angriff_Icon.png",size:[24,24]},icon_landmark:{link:"http://wiki-fr.guildwars2.com/images/d/d2/Ic\u00f4ne_site_remarquable_d\u00e9couvert.png",size:[20,20]},icon_skill:{link:"http://wiki-fr.guildwars2.com/images/5/5c/Progression_d\u00e9fi.png",size:[20,20]},icon_task:{link:"http://wiki-fr.guildwars2.com/images/a/af/Ic\u00f4ne_coeur_plein.png",size:[20,20]},icon_vista:{link:"http://wiki-fr.guildwars2.com/images/8/82/Ic\u00f4ne_panorama.png",
size:[20,20]},icon_waypoint:{link:"http://wiki-fr.guildwars2.com/images/5/56/Progression_passage.png",size:[20,20]},errortile:"http://wiki-de.guildwars2.com/images/6/6f/Kartenhintergrund.png",event:"event-fr",landmark:"Sites remarquables",players:"players-fr",polyline:"polyline-fr",sector:"Secteurs",skill:"D\u00e9fis de comp\u00e9tences",task:"C\u0153urs",vista:"Panoramas",waypoint:"Points de passage",attribution:"attribution-fr",professions:{0:{name:"Unknown",icon:"http://wiki-de.guildwars2.com/images/c/ce/Allgemein_Icon.png"},
1:{name:"Guardian",icon:"http://wiki-de.guildwars2.com/images/f/f4/W\u00e4chter_Icon.png"},2:{name:"Warrior",icon:"http://wiki-de.guildwars2.com/images/9/90/Krieger_Icon.png"},3:{name:"Engineer",icon:"http://wiki-de.guildwars2.com/images/c/c9/Ingenieur_Icon.png"},4:{name:"Ranger",icon:"http://wiki-de.guildwars2.com/images/5/5e/Waldl\u00e4ufer_Icon.png"},5:{name:"Thief",icon:"http://wiki-de.guildwars2.com/images/0/07/Dieb_Icon.png"},6:{name:"Elementalist",icon:"http://wiki-de.guildwars2.com/images/b/b4/Elementarmagier_Icon.png"},
7:{name:"Mesmer",icon:"http://wiki-de.guildwars2.com/images/0/05/Mesmer_Icon.png"},8:{name:"Necromancer",icon:"http://wiki-de.guildwars2.com/images/2/23/Nekromant_Icon.png"}}}}},phpjs={intval:function(c,b){var d;d=typeof c;return"boolean"===d?+c:"string"===d?(d=parseInt(c,b||10),isNaN(d)||!isFinite(d)?0:d):"number"===d&&isFinite(c)?c|0:0},utf8_encode:function(c){if(null===c||"undefined"===typeof c)return"";c+="";var b="",d,a,e;d=a=0;e=c.length;for(var g=0;g<e;g++){var h=c.charCodeAt(g),p=null;128>
h?a++:p=127<h&&2048>h?String.fromCharCode(h>>6|192)+String.fromCharCode(h&63|128):String.fromCharCode(h>>12|224)+String.fromCharCode(h>>6&63|128)+String.fromCharCode(h&63|128);null!==p&&(a>d&&(b+=c.slice(d,a)),b+=p,d=a=g+1)}a>d&&(b+=c.slice(d,e));return b},sha1:function(c){var b=function(a,b){return a<<b|a>>>32-b},d=function(a){for(var b="",c,d=7;0<=d;d--)c=a>>>4*d&15,b+=c.toString(16);return b},a,e,g=Array(80),h=1732584193,p=4023233417,r=2562383102,s=271733878,t=3285377520,f,k,l,m,n;c=phpjs.utf8_encode(c);
f=c.length;var q=[];for(a=0;a<f-3;a+=4)e=c.charCodeAt(a)<<24|c.charCodeAt(a+1)<<16|c.charCodeAt(a+2)<<8|c.charCodeAt(a+3),q.push(e);switch(f%4){case 0:a=2147483648;break;case 1:a=c.charCodeAt(f-1)<<24|8388608;break;case 2:a=c.charCodeAt(f-2)<<24|c.charCodeAt(f-1)<<16|32768;break;case 3:a=c.charCodeAt(f-3)<<24|c.charCodeAt(f-2)<<16|c.charCodeAt(f-1)<<8|128}for(q.push(a);14!=q.length%16;)q.push(0);q.push(f>>>29);q.push(f<<3&4294967295);for(c=0;c<q.length;c+=16){for(a=0;16>a;a++)g[a]=q[c+a];for(a=16;79>=
a;a++)g[a]=b(g[a-3]^g[a-8]^g[a-14]^g[a-16],1);e=h;f=p;k=r;l=s;m=t;for(a=0;19>=a;a++)n=b(e,5)+(f&k|~f&l)+m+g[a]+1518500249&4294967295,m=l,l=k,k=b(f,30),f=e,e=n;for(a=20;39>=a;a++)n=b(e,5)+(f^k^l)+m+g[a]+1859775393&4294967295,m=l,l=k,k=b(f,30),f=e,e=n;for(a=40;59>=a;a++)n=b(e,5)+(f&k|f&l|k&l)+m+g[a]+2400959708&4294967295,m=l,l=k,k=b(f,30),f=e,e=n;for(a=60;79>=a;a++)n=b(e,5)+(f^k^l)+m+g[a]+3395469782&4294967295,m=l,l=k,k=b(f,30),f=e,e=n;h=h+e&4294967295;p=p+f&4294967295;r=r+k&4294967295;s=s+l&4294967295;
t=t+m&4294967295}n=d(h)+d(p)+d(r)+d(s)+d(t);return n.toLowerCase()}};
